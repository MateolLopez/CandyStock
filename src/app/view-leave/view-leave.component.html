



<mat-accordion>
  <mat-expansion-panel hideToggle>
    <mat-expansion-panel-header>
      <mat-panel-title>
        in Stock
      </mat-panel-title>

    </mat-expansion-panel-header>
    <table mat-table [dataSource]="dataStockedSource" class="table-stock">
      <!-- Category Column -->
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef>Category</th>
        <td mat-cell *matCellDef="let element"><div *ngIf="!element.edit"> {{ element.category | titlecase }}</div>
          <div *ngIf="element.edit">
            <input class="form-control" category="category" type="string" [(ngModel)]="editedObj.category" id="element.category" matInput>
          </div></td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let element"><div *ngIf="!element.edit"> {{ element.name }}</div>
          <div *ngIf="element.edit">
            <input class="form-control" name="name" type="string" [(ngModel)]="editedObj.name" id="element.name" matInput>
          </div></td>
      </ng-container>

      <!-- Price Column -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Price</th>
        <td mat-cell *matCellDef="let element">
          <div *ngIf="!element.edit">$ {{ element.price }}</div>
          <div *ngIf="element.edit">
            <input class="form-control" name="price" type="number" [(ngModel)]="editedObj.price" id="element.price" matInput>
          </div>
        </td>
      </ng-container>

      <!-- Exists Column -->
      <ng-container matColumnDef="stock" class="stock">
        <th mat-header-cell *matHeaderCellDef>stock</th>

        <td mat-cell *matCellDef="let element">
          <mat-slide-toggle *ngIf="element.edit" id="element.instock" [(ngModel)]="editedObj.instock"></mat-slide-toggle>
          <button
            *ngIf="!element.edit"
            class="btn-edit"
            mat-raised-button
            color="primary"
            (click)="editProduct(element)"
          >
            edit
          </button>
          <button
          *ngIf="element.edit"
          class="btn-edit"
          mat-raised-button
          color="primary"
          (click)="editDone()"
        >
          done
        </button>
          <button
            class="btn-edit"
            (click)="deleteProduct(element.id)"
            mat-raised-button
            color="warn"
          >
            X
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </mat-expansion-panel>


    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          out of Stock
        </mat-panel-title>
      </mat-expansion-panel-header>
      <table mat-table [dataSource]="dataOutstockedSource" class="table-stock">
        <!-- Category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef>Category</th>
          <td mat-cell *matCellDef="let element"><div *ngIf="!element.edit"> {{ element.category | titlecase }}</div>
            <div *ngIf="element.edit">
              <input class="form-control" category="category" type="string" [(ngModel)]="editedObj.category" id="element.category" matInput>
            </div></td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element"><div *ngIf="!element.edit"> {{ element.name }}</div>
            <div *ngIf="element.edit">
              <input class="form-control" name="name" type="string" [(ngModel)]="editedObj.name" id="element.name" matInput>
            </div></td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let element">
            <div *ngIf="!element.edit">$ {{ element.price }}</div>
            <div *ngIf="element.edit">
              <input class="form-control" name="price" type="number" [(ngModel)]="editedObj.price" id="element.price" matInput>
            </div>
          </td>
        </ng-container>

        <!-- Exists Column -->
        <ng-container matColumnDef="stock" class="stock">
          <th mat-header-cell *matHeaderCellDef>stock</th>

          <td mat-cell *matCellDef="let element">
            <mat-slide-toggle *ngIf="element.edit" id="element.instock" [(ngModel)]="editedObj.instock"></mat-slide-toggle>
            <button
              *ngIf="!element.edit"
              class="btn-edit"
              mat-raised-button
              color="primary"
              (click)="editProduct(element)"
            >
              edit
            </button>
            <button
            *ngIf="element.edit"
            class="btn-edit"
            mat-raised-button
            color="primary"
            (click)="editDone()"
          >
            done
          </button>
            <button
              class="btn-edit"
              (click)="deleteProduct(element.id)"
              mat-raised-button
              color="warn"
            >
              X
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-expansion-panel>
  </mat-accordion>
